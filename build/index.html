<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Lab Notes</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { font-weight: bold; } /* Alert */
    code span.an { font-style: italic; } /* Annotation */
    code span.cf { font-weight: bold; } /* ControlFlow */
    code span.co { font-style: italic; } /* Comment */
    code span.cv { font-style: italic; } /* CommentVar */
    code span.do { font-style: italic; } /* Documentation */
    code span.dt { text-decoration: underline; } /* DataType */
    code span.er { font-weight: bold; } /* Error */
    code span.in { font-style: italic; } /* Information */
    code span.kw { font-weight: bold; } /* Keyword */
    code span.pp { font-weight: bold; } /* Preprocessor */
    code span.wa { font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="./style.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="charles-lab-notes"><a href="#charles-lab-notes"
class="header-anchor">Charles’ lab notes</a></h1>
<p>Welcome! This is a place for me to publish less polished thoughts and
findings as they come up, research-related or otherwise. See <a
href="#motivation">#motivation</a> for details.</p>
<hr />
<h1 id="2023-06-16"><a href="#2023-06-16"
class="header-anchor">2023-06-16</a></h1>
<h2 id="folk"><a href="#folk" class="header-anchor">Folk</a></h2>
<p>Update time!</p>
<p>I’ve had a performance regression on my folk system, with the frame
rate dropping to something like 10. It’s preventing me from
experimenting with higher level applications, since the kind of
interaction that I was showing in my last post is just terrible at
10fps. In the process of debugging!</p>
<p>I’ve also been helping out to improve the calibration in Folk. One
problem that you get in projector-camera mapping systems like this is
you often want to project a graphic relative to something that the
camera sees. But you don’t know a priori where the projector can project
in terms of the camera. Hence, projector-camera calibration: the process
of mapping camera coordinates to projector coordinates.</p>
<p>The way this works in Folk is it lights up each pixel of the
projector uniquely, paying close attention with the camera. But some
pixels from the projector don’t get seen by the camera, so it picks just
4 points that are and then comes up with a linear map using those 4
points between the projector space and the camera space. Unfortunately
this linear map doesn’t work so well because the distortion within the
camera and projector isn’t linear: there is radial distortion in their
lenses that aren’t taken into account. So we’ve been working on coming
up with a mapping that does take into account radial disortion. And even
more fun we’re working on mapping into 3d coordinates as well. Since we
know the physical size the April tags, we can infer how high up they are
in space. More accurate and 3-dimensional calibration will let folk
precisily project onto various portions of a page, even when it’s being
held and moved around in space. Very exciting!</p>
<p>I did write one higher-level primitive in folk: an “operator” card.
Basically, you can declare a card is an operator and then it’ll get
information about which cards are to the immediate left or right of it.
So you can have behaviour defined by putting three cards down in an
order. I’m planning on using this for doing a vector addition demo in
folk!</p>
<h2 id="societal-attention"><a href="#societal-attention"
class="header-anchor">Societal Attention</a></h2>
<p>Also and unrelated: I’ve been thinking about “societal attention”.
There’s this concept we have of individual, human attention. Something
gets brought up in an individual’s consciousness, and then they spend
time thinking about that thing. Those initial thoughts might lead to
more thoughts and, well, this is the process of paying attenion and
thinking about something.</p>
<p>So I think there is an analogous phenomenon in human societes:
something happens and whole groups of people end up thinking about it.
They think some thoughts, share them around, prompting more thoughts. My
insight here is that societies can kind of get “lost in thought” the
same way humans can: they can spend their time thinking and talking
about something, even if it doesn’t end up being useful or even if the
original bits of information that sparked the discussion were incorrect
or mistaken.</p>
<p>Maybe it’s worthwhile thinking about how we could short-circuit these
kinds of conversations once it’s clear (to whom?) that they are no
longer productive? Maybe it just takes a lot of individuals carefully
doing that in their own thinking processes?</p>
<h2 id="transparent-display"><a href="#transparent-display"
class="header-anchor">Transparent Display</a></h2>
<p>I got the projector films in the mail! I put them onto some glass and
put the glass in front of a projector, basically making a transparent
display. Pretty decent? It’s a bit unclear what the possible
applications would be. I’ll try to talk more about it in the future and
share some links/photos in case anyone else wants to try.</p>
<hr />
<h1 id="2023-06-09"><a href="#2023-06-09"
class="header-anchor">2023-06-09</a></h1>
<p>I wrote my first meaningful folk program! Its goal is to prove <a
href="https://en.wikipedia.org/wiki/Thales%27s_theorem">Thales’
theorem</a> by letting people interact with the pieces. Thale’s theorem
states that any triangle whose corners lie on the circumference of a
circle and whose hypotenuse is the diameter of the circle is a right
triangle. See for yourself:</p>
<video controls muted>
<source src="https://raw.githubusercontent.com/charlesetc/lab-notes/video/build/static/folk-01.mov" type="video/mp4" />
Your browser does not support the video tag.
</video>
<hr />
<h1 id="2023-06-08"><a href="#2023-06-08"
class="header-anchor">2023-06-08</a></h1>
<p>Smoke and (AR) mirrors in New York City.</p>
<p>I’m happy to see a hype shift towards more HCI-related topics and
away from all AI all the time. AR relates more to my interests and,
while surely it has some distopian futures embedded in the discourse,
it’s at least not entirely centered around them.</p>
<p>A quick note on hype: I think people lose their minds when it comes
to new technology. New tech is cool and fun and often genuinely
transformative! But at any given time period those transformations are
finite. Some things change, some things don’t. And we are bad at knowing
what will and won’t change <code>n</code> months out. I try to be
careful of claims with absolute certainty. We all need some humility in
times like these.</p>
<p>Anyways!</p>
<p>Apple’s headset is cool — especially the eye tracking! We’ve never
seen it in mainstream tech hardware before. I’m really excited for the
possibilities. Though I don’t think I’ll rush to build an app for it.
I’m much more excited about projectors! The ability for tech to actually
<em>augment</em> the world without taking away my ability to engage with
the people therein. So important!</p>
<p>This brings me to <a href="https://folk.computer">Folk</a>. I’ve been
volunteering a little with the team, getting a home instance set up, and
it’s finally working!</p>
<ol type="1">
<li>It’s much faster than I was expecting. Very satisfying to play with.
I think I’m getting around 30 frames per second. I don’t think 60 is
that far away and that’s even more exciting.</li>
<li>I’ve been experimenting with different paper types and sizes. I was
very pleasantly surprised by newsprint! Mine has a great kind of
soft-glossy texture, stacks well since it’s so thin, and has more of an
e-ink color compared to normal bright white paper. Also, suprisingly
durable! I’ve been cutting it to approximately A6 size for now and I
like that much better than letter or half-letter: there’s room for more
cards to fit under the relatively small projection space on my
desk.</li>
<li>I’ve been thinking about what I would want to build with this sort
of interface. There’s the question of “are the papers cenceptualized as
<em>the thing</em> you are manipulating or are they handles to an
explicitely virtual object?”. Maybe the answer has to be: both depending
on the context, but favor <em>the thing</em> when possible.</li>
<li>I’m torn about the english-like regex pattern matching syntax, which
is used to read and write from the Folk in-memory reactive database. On
the one hand, I do like the idea that things are extensible,
self-documenting, accessible, etc. But it is a bit verbose at times and
there is very little error information when you mistype something.
Better tooling might help!</li>
<li>It’s interesting that I already want <em>finer</em> inputs to the
things that I’m manipulating. I want to have a relative small circle
drawn and then be able to attach small things to it and so on. This is
not really easy to do given the size of April tags. There’s some thought
of switching to Bullseye feducials to get smaller feducial tracking, but
you’ll still have to worry about occluding tags with your hand.
Electrical engineering to the rescue?</li>
<li>It’s hard to know how much time to spend on the system itself or
learning how to build apps on top of it.</li>
</ol>
<p>I also spent a good amount of time researching in-air (transparent)
displays. Been thinking about how to create a folk-like experience by
positioning one between the table and my head, using cameras for
head-tracking.</p>
<p>There are two ways I was thinking of doing this:</p>
<ol type="1">
<li>Find an LCD display, peel of the backing, and then hopefully get a
transparent LCD display panel.</li>
<li>Project onto a piece of glass with a film on it that is suspended
between you and a table with objects.</li>
</ol>
<p>Turns out that LCDs are quite dark even with the backing peeled off
and need a backlight to really shine, making projection still the way to
go.</p>
<p>So I got some samples of the film shipped to me, bought a glass
panel, some brass rods, and another ikea task lamp! Maybe this will turn
into something cool!</p>
<hr />
<h1 id="2023-06-05"><a href="#2023-06-05"
class="header-anchor">2023-06-05</a></h1>
<p>Some highlights from the past few days:</p>
<ol type="1">
<li>Continued work on the folk setup. Calibration between the camera and
projector isn’t working, still have to investigate that today. But I got
a wifi adapter so no hotspotting for me anymore!</li>
<li><a href="https://twitter.com/rsnous/status/1665126377144590341">HTML
energy</a> event on saturday. Really fun to see people congregate to
make digital art!</li>
<li>I’ve been getting really into lua and hammerspoon recently. Made a
keybinding to let me quickly open these lab notes, for instance! It’s
fun to think of my computer as a display mechanism underneath a pile of
lua.</li>
<li>In the course of this lua splurge, I wanted to execute a program in
a directory <em>without</em> using a shell to <code>cd</code> there
first. It feels like this should be a built-in utility! Like how you can
set an environment variable with <code>env THIS=THAT</code>. So I made
it! It lets you
<code>exec-in a-directory    your-executable your-arguments</code>.
Worked great! Maybe there’s something else that does it? It was kind of
fun to write — I wrote the bash first and then asked an LLM to convert
it to C for me. <a
href="https://github.com/charlesetc/utils/tree/main/exec-in">github</a></li>
<li>I’ve been with <a href="https://just-be.dev/">Justin</a> about
making an in-air LCD display: completely transparent except when you
want it to show something. Like an iPad for AR I suppose? I’d be
interested in combining these with cameras to make a sort of window into
the augmented world.</li>
</ol>
<pre>---</pre>
<p>Update: Got calibration working and so the rectangles are now
following the april tags! The automatic calibration still isn’t quite
working, I had to manually feed in some of the points that it came up
with. And as you can see the calibration isn’t that good. But it’s a
starting point!</p>
<p><img src="./static/IMG_2036.jpeg" /></p>
<p>Also, bubble:</p>
<p><img src="./static/IMG_2018.jpeg" /></p>
<hr />
<h1 id="2023-05-31"><a href="#2023-05-31"
class="header-anchor">2023-05-31</a></h1>
<p>An awesome day. It started out by installing ubuntu on a small
desktop computer:</p>
<p><img src="./static/2023-05-31-01.jpeg" /></p>
<p>And then progressed to drilling holes into a vesa mount of a monitor
arm:</p>
<p><img src="./static/2023-05-31-03.jpeg" /></p>
<p>Which let me position a webcam and projector in the air:</p>
<p><img src="./static/2023-05-31-04.jpeg" /></p>
<p>To finally project a blue square on my desk:</p>
<p><img src="./static/2023-05-31-02.jpeg" /></p>
<p>And what a blue square it is!</p>
<p>There were too many issues to count along the way. The computer I got
ended up not having a wifi card built in but it did come with a usb wifi
adapter. I spent altogether too much time manually downloading the
debian packages needed to compile this adapter’s firmware only to find
out that it wasn’t compatible with the latest linux kernel version. So
I’m getting a new wifi adapter shipped, but in the meantime I went to
the store to buy an ethernet cable. This got me started but it wouldn’t
reach to the right desk, so I have ended up tethering my phone’s hotspot
through a usb connection. Which of course lead to more issues. My
printer is configured to work on my home network which this desktop
computer doesn’t have access to (since it doesn’t have a wifi card), so
printing out four April tags involved alternating between my phone’s
hotspot to get a single print job queued and then my home network to
actually print it. A wild ride for sure!</p>
<p>But it should all be worth it soon.</p>
<hr />
<h1 id="2023-05-30"><a href="#2023-05-30"
class="header-anchor">2023-05-30</a></h1>
<p>I’m in the process of setting up a <a
href="https://folk.computer">folk.computer</a> installation! Today
involved running to the hardware store to buy clamps, eyewear, power
strip, flash drive, etc. Tonight or tomorrow I’ll start drilling: have
to widen the holes in a monitor arm’s VESA mount to let through the 1/4”
20 screws that the projector and webcam use. I’m hoping that the end
result will be pretty clean!</p>
<p>Folk is a projector-camera “physical computing” interface and
operating system developed by <a href="https://cwervo.com/">Andrés</a>
and <a href="https://omar.website/">Omar</a>. The idea is you position a
camera and a projector above your desk and plug them into a computer
with access to a printer. This setup lets you:</p>
<ul>
<li>use computer vision to track April Tags (kind of like QR codes but
faster to recognize) in real time.</li>
<li>project light onto and around the objects you are tracking, informed
by information from the computer vision (position, rotation, skew of
tags in space).</li>
<li>print out sheets of paper with these April Tags, giving you the
ability to bring new augmented objects into the world with ease.</li>
</ul>
<p>I’m extremely excited about this. Last week I witnessed a musical
performance where someone with no particular training manipulated 5
pieces of paper to create a musical experience. This is how we
seamlessly empower non-technical humans with technology: extraordinarily
easy, high-bandwidth interfaces you can <strong>play</strong> with.</p>
<p>Stay posted.</p>
<hr />
<h1 id="2023-05-29"><a href="#2023-05-29"
class="header-anchor">2023-05-29</a></h1>
<p>I added links on each header here! Had to use pandoc’s
gfm_auto_identifiers extension and then used a <a
href="https://pandoc.org/lua-filters.html">lua filter</a> to add the
actual links to the header. This was an updated version of <a
href="https://github.com/jgm/pandoc-website/blob/master/tools/anchor-links.lua">the
filter</a> pandoc uses for its own documentation.</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode lua"><code class="sourceCode lua"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> Header<span class="op">(</span><span class="va">h</span><span class="op">)</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> <span class="va">h</span><span class="op">.</span><span class="va">identifier</span> <span class="op">~=</span> <span class="st">&#39;&#39;</span> <span class="cf">then</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">local</span> <span class="va">anchor_link</span> <span class="op">=</span> <span class="va">pandoc</span><span class="op">.</span>Link<span class="op">(</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>      <span class="va">h</span><span class="op">.</span><span class="va">content</span><span class="op">,</span>                        <span class="co">-- content</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">&#39;#&#39;</span> <span class="op">..</span> <span class="va">h</span><span class="op">.</span><span class="va">identifier</span><span class="op">,</span>              <span class="co">-- href</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">&#39;&#39;</span><span class="op">,</span>                               <span class="co">-- title</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>      <span class="op">{</span> <span class="va">class</span> <span class="op">=</span> <span class="st">&#39;header-anchor&#39;</span> <span class="op">}</span>       <span class="co">-- attributes</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="va">h</span><span class="op">.</span><span class="va">content</span> <span class="op">=</span> <span class="va">anchor_link</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">h</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">end</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code></pre></div>
<hr />
<h1 id="2023-05-28"><a href="#2023-05-28"
class="header-anchor">2023-05-28</a></h1>
<p>I’ve added an RSS feed for these notes! I’m using pandoc to render a
single markdown file into html, so had to figure out some way to get an
rss feed as well. I went with a ruby script to parse the markdown and
generate the xml on build. Turned out to be easier than I was
expecting!</p>
<p>See the feed here: <a href="./rss.xml">./rss.xml</a></p>
<hr />
<h1 id="2023-05-27"><a href="#2023-05-27"
class="header-anchor">2023-05-27</a></h1>
<h2 id="motivation"><a href="#motivation"
class="header-anchor">Motivation</a></h2>
<p>Well I’ve been doing some long-form writing on my <a
href="https://inclouds.space/blog">blog</a> and I’ve enjoyed it. But the
format necessitates a lot of editing and care, at least in my mind. This
can be good for me—practicing writing long form pieces and the editing
that goes with that—but it’s not easy and often either prevents me from
getting content out or seriously delays it. I’d like to be able to share
spur of the moment insights and snippets easily and quickly, in the
hopes that I end up getting a larger amount of content out and in
public. That too is good practice!</p>
<p>So please bear with me; thoughts might not be as fully-formed,
spelling might not be well-checked, grammar will be okay at best. This
is an experiment! I’m hoping the content itself can earn its keep
despite these potential pitfalls.</p>
<p>Also I like exclamation points and will probably use more of them
here than my normal blog! No more censorship!</p>
<h2 id="forest"><a href="#forest" class="header-anchor">Forest</a></h2>
<p>As I add these lab notes to the nav of my main site, they are
replacing a link to my “forest” — an attempt at a digital garden I made
a few months ago. Recently it has become less of a garden and more of a
small, static grove of trees. So instead of pointing to it so directly,
I’m moving the link here. Please enjoy! <a
href="https://forest.inclouds.space/">forest.inclouds.space</a></p>
<hr />
<p><a class='end-star' href="https://inclouds.space">★</a></p>
</body>
</html>
